<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will You be my Valentine?</title>
    <link rel="stylesheet" href="valStyle.css" />
</head>
<body>
    <div class="navbar">
        <a href="#home" class="nav-link active" id="homeLink" onclick="setActive(this)">Home</a>
        <a href="#trina" class="nav-link" id="trinaLink" onclick="setActive(this)" style="pointer-events: none; opacity: 0.5;">Trina</a>
    </div>
    
    <div id="home" class="container">
        <div class="content-wrapper">
            <h1 id="question">Will you be my Valentine?</h1>
            <div class="gif-container">
                <div id="gif">
                    <iframe src="https://tenor.com/embed/12962892" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>
                </div>
            </div>
            <div class="buttons">
                <button id="yesBtn" onclick="redirectToTrina()">Yes! ðŸ’•</button>
                <button id="noBtn" onclick="handleNoClick()">No</button>
            </div>
        </div>
    </div>
    
    <div id="trina" class="container" style="display: none;">
        <div class="content-wrapper">
            <h1 class="success-message">Yeeeeey! Thank you Bb I LOVE YOU!! ðŸ’•ðŸ’•</h1>
            <div class="celebration-container">
                <iframe class="celebration-gif" src="https://tenor.com/embed/22285495" allowfullscreen></iframe>
            </div>
            <div class="photos-grid">
                <img src="bb6.jpg" alt="Us 1">
                <img src="bb12.jpg" alt="Us 2">
                <img src="bb2.jpg" alt="Us 3">
                <img src="bb9.jpg" alt="Us 4">
                <img src="bb11.jpg" alt="Us 5">
            </div>
        </div>
    </div>
    
    <script>
        let noClickCount = 0;
        let noBtnContainer = null;

        function redirectToTrina() {
            window.location.hash = "#trina";
            document.getElementById("trina").style.display = "block";
            document.getElementById("home").style.display = "none";
            
            setActive(document.querySelector("a[href='#trina']"));
            document.getElementById("trinaLink").style.pointerEvents = "auto";
            document.getElementById("trinaLink").style.opacity = "1";
            
            document.getElementById("homeLink").style.pointerEvents = "none";
            document.getElementById("homeLink").style.opacity = "0.5";
            
            resetYesButton();
            
            // Create confetti effect
            createConfetti();
        }

        function handleNoClick() {
            noClickCount++;
            let yesBtn = document.getElementById("yesBtn");
            let noBtn = document.getElementById("noBtn");
            let questionElement = document.getElementById("question");
            
            // Grow yes button
            let currentSize = parseFloat(window.getComputedStyle(yesBtn).fontSize);
            yesBtn.style.fontSize = (currentSize * 1.3) + "px";
            yesBtn.style.padding = (parseFloat(window.getComputedStyle(yesBtn).paddingTop) * 1.2) + "px " + 
                                   (parseFloat(window.getComputedStyle(yesBtn).paddingLeft) * 1.2) + "px";
            
            // Change question text
            const questions = [
                "Are you really sure?",
                "Are you really really sure?",
                "Think again! Pretty please? ðŸ¥º",
                "Are you absolutely certain?",
                "Last chance to reconsider! ðŸ’”"
            ];
            
            if (noClickCount <= questions.length) {
                questionElement.textContent = questions[noClickCount - 1];
            }
            
            // Change gif to sad one
            let gifContainer = document.getElementById("gif");
            gifContainer.innerHTML = `<iframe src="https://tenor.com/embed/7624556145484517847" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>`;
            
            // After first click, create the floating button
            if (noClickCount === 1) {
                createFloatingNoButton();
            }
        }

        function createFloatingNoButton() {
            let noBtn = document.getElementById("noBtn");
            let gifContainer = document.getElementById("gif");
            
            // Hide original no button
            noBtn.style.display = "none";
            
            // Create container for button on gif
            noBtnContainer = document.createElement("div");
            noBtnContainer.className = "floating-no-container";
            noBtnContainer.innerHTML = '<button class="floating-no-btn">No</button>';
            
            gifContainer.style.position = "relative";
            gifContainer.appendChild(noBtnContainer);
            
            // Add hover event to make it teleport
            const floatingBtn = noBtnContainer.querySelector(".floating-no-btn");
            floatingBtn.addEventListener("mouseenter", teleportButton);
        }

        function teleportButton() {
            if (!noBtnContainer) return;
            
            const gifContainer = document.getElementById("gif");
            const containerRect = gifContainer.getBoundingClientRect();
            
            // Random position within the gif area
            const maxX = containerRect.width - 80; // button width
            const maxY = containerRect.height - 40; // button height
            
            const randomX = Math.random() * maxX;
            const randomY = Math.random() * maxY;
            
            noBtnContainer.style.left = randomX + "px";
            noBtnContainer.style.top = randomY + "px";
            
            // Add bounce animation
            noBtnContainer.style.animation = "none";
            setTimeout(() => {
                noBtnContainer.style.animation = "bounce 0.3s ease";
            }, 10);
        }

        function resetYesButton() {
            noClickCount = 0;
            document.getElementById("yesBtn").style.fontSize = "";
            document.getElementById("yesBtn").style.padding = "";
            document.getElementById("question").textContent = "Will you be my Valentine?";
            
            let noBtn = document.getElementById("noBtn");
            noBtn.style.display = "inline-block";
            
            if (noBtnContainer) {
                noBtnContainer.remove();
                noBtnContainer = null;
            }

            let gifContainer = document.getElementById("gif");
            gifContainer.innerHTML = `<iframe src="https://tenor.com/embed/12962892" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>`;
        }

        function setActive(element) {
            document.querySelectorAll(".nav-link").forEach(link => link.classList.remove("active"));
            element.classList.add("active");
        }

        function createConfetti() {
            const colors = ['#ff6b9d', '#c44569', '#f8b500', '#ffa801', '#f85032'];
            const confettiCount = 100;
            
            for (let i = 0; i < confettiCount; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 3 + 's';
                    confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 5000);
                }, i * 30);
            }
        }

        // Floating hearts on mouse move
        document.addEventListener("mousemove", (event) => {
            if (Math.random() > 0.85) { // Only create hearts 15% of the time
                const heart = document.createElement("div");
                heart.classList.add("heart");
                heart.innerHTML = "ðŸ’œ";
                document.body.appendChild(heart);
                
                heart.style.left = `${event.clientX}px`;
                heart.style.top = `${event.clientY}px`;
                
                setTimeout(() => {
                    heart.style.opacity = "0";
                    heart.style.transform = "translateY(-50px) scale(1.5)";
                }, 10);
                
                setTimeout(() => heart.remove(), 1000);
            }
        });
    </script>
</body>
</html>
